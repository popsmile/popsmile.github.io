---
layout: post
title:  "TIL: 2019.01.08"
date:   2019-01-08 18:00:00
author: Jamie
categories: TIL
tags: TIL iOS Swift Xcode Codesquad
cover:  "/assets/cover/pencil-clips-on-greenblue.jpeg"
---

### ë¸”ë¡œê·¸ ë§Œë“¤ê¸°

- ë§ˆìŒì— ë“œëŠ” [Jekyll í…Œë§ˆ](https://github.com/bencentra/centrarium) ë°œê²¬!
- í•˜ë£¨ë‚˜ ì´í‹€ ê°„ê²©ìœ¼ë¡œ TIL ì‘ì„± ë„ì „!

<hr>

### ìíŒê¸° ì•± ìƒëª…ì£¼ê¸°ì™€ ê°ì²´ ì €ì¥

ì•± ì‹¤í–‰ ì´í›„ ì¢…ë£Œí•˜ê³  ì¬ì‹œì‘í•˜ë”ë¼ë„, ë§ˆì§€ë§‰ ìíŒê¸° ì¬ê³  ìƒíƒœì™€ ì”ì•¡ ë“±ì˜ `VendingMachine` ê°ì²´ì˜ ì†ì„±ì´ ì €ì¥/ë³µì›ë˜ë„ë¡ ê°œì„ .

- **AppDelegate**

  `VendingMachine` ê°ì²´ë¥¼ `ViewController` ì—ì„œ `AppDelegate `ë¡œ ì´ë™.  `ViewController` ì—ì„œëŠ” `UIApplication.shared.delegate` ë³€ìˆ˜ë¥¼ í†µí•´ ì ‘ê·¼í•˜ë„ë¡ ìˆ˜ì •

- **Keyed Archiving**

  - `VendingMachine` ê°ì²´ ì •ë³´ë¥¼ ì €ì¥í•˜ê¸° ìœ„í•´, ë‚´ë¶€ì— í¬í•¨ëœ êµ¬ì¡°ì²´ ë° í´ë˜ìŠ¤ ê°ì²´ê°€ ëª¨ë‘ encodable and decodable í•˜ë„ë¡ `NSSecureCoding` í”„ë¡œí† ì½œì„ ì±„íƒ. 
  - êµ¬ì¡°ì²´ëŠ” `NSCoding` í”„ë¡œí† ì½œì„ ì±„íƒí•  ìˆ˜ ì—†ê¸°ë•Œë¬¸ì—, ì²˜ìŒì—ëŠ” ëª¨ë“  ê°ì²´ê°€ `Codable` í”„ë¡œí† ì½œì„ ì±„íƒí•˜ë„ë¡ êµ¬í˜„. í•˜ì§€ë§Œ ì—¬ëŸ¬ì°¨ë¡€ ì‹œë„ì—ë„, ì´ í”„ë¡œí† ì½œë¡œëŠ” ê°ì²´ ë‚´ë¶€ì— í¬í•¨ëœ í•˜ìœ„ ê°ì²´ì˜ ì •ë³´ê¹Œì§€ ì €ì¥í•˜ëŠ”ë° ì‹¤íŒ¨...ğŸ˜£
  - ëª¨ë“  ê°ì²´ í´ë˜ìŠ¤ ë³€ê²½ í›„, **`NSSecureCoding`** í”„ë¡œí† ì½œ ì±„íƒ.
  - `NSKeyedArchiver` ì™€ `NSKeyedUnarchiver` ë¥¼ í†µí•´ ìíŒê¸° ê°ì²´ë¥¼ `Data` ë¡œ ì•„ì¹´ì´ë¸Œ/ì–¸ì•„ì¹´ì´ë¸Œ.

- **UserDefaults**

  í•´ë‹¹ í´ë˜ìŠ¤ì— ì•„ì¹´ì´ë¸Œí•œ ê°ì²´ ë°ì´í„°ë¥¼ ì €ì¥. í´ë˜ìŠ¤ ë³€ìˆ˜ `standard` ë¡œ ì¸ìŠ¤í„´ìŠ¤ ì ‘ê·¼. ì•„ë˜ì˜ 3ê°€ì§€ í”„ë¡œí¼í‹°ì™€ ë©”ì†Œë“œë¥¼ ì¶”ê°€ êµ¬í˜„. ì¶”ê°€ë¡œ ë¬¸ìì—´ì¸ í‚¤ ê°’ì„ ì €ì¥í•˜ê³  ìˆëŠ” ` enum Keys` ë„ ê°ê° ì¶”ê°€.

  ~~~ swift
  static var supportsSecureCoding: Bool
  func encode(with aCoder: NSCoder) {}
  required init?(coder aDecoder: NSCoder) {}
  ~~~

> **í˜ë“¤ì—ˆë˜ ì **
>
> ì¸ì½”ë”© ê³¼ì •ì—ì„œ ìê¾¸ `NSKeyedArchiver warning: replacing existing value for key '\(encodingKey)'; probable duplication of encoding keys in class hierarchy` ì—ëŸ¬ê°€ ë°œìƒí•˜ì—¬ í—¤ë§¸ë‹¤...ğŸ˜± ìŠ¤ìœ„í”„íŠ¸ ê¹ƒí—ˆë¸Œì—ì„œ [í•´ë‹¹ ë¡œê·¸ê°€ í˜¸ì¶œë˜ëŠ” ë¶€ë¶„](https://github.com/apple/swift-corelibs-foundation/blob/master/Foundation/NSKeyedArchiver.swift#L424)ì„ ì°¾ì•„ë³´ë‹ˆ, ì¸ì½”ë”© í‚¤ ê°’ì´ ì´ë¯¸ ë”•ì…”ë„ˆë¦¬ì— ì¡´ì¬í•˜ëŠ” í‚¤ ê°’ì¼ ë•Œ ë‚˜íƒ€ë‚˜ëŠ” ì—ëŸ¬ì˜€ë‹¤. ëª¨ë“  ì½”ë“œë¥¼ ìƒ…ìƒ…íˆ í™•ì¸í•œ ê²°ê³¼, `enum` ìœ¼ë¡œ í‚¤ ê°’ì„ ì¼€ì´ìŠ¤ë³„ë¡œ ì„ ì–¸í•œ í›„, í•˜ë“œ ì½”ë”© ë˜ì–´ìˆë˜ í‚¤ ê°’ì„ ê³ ì¹˜ëŠ” ê³¼ì •ì—ì„œ ë‘ ë²ˆ ì¤‘ë³µí•˜ì—¬ ì…ë ¥í•œ ë¶€ë¶„ì„ ë°œê²¬...!!ğŸ‘ğŸ» ì‘ì€ ì‹¤ìˆ˜ë¡œ ì˜¤ëœ ì‹œê°„ì„ í—¤ë§¸ì§€ë§Œ, `NSKeyedArchiver` êµ¬í˜„ë¶€ë¥¼ í™•ì¸í•˜ë©´ì„œ ë” ìì„¸íˆ ë“¤ì—¬ë‹¤ë³¼ ìˆ˜ ìˆê²Œí•´ì¤€ ê²½í—˜ì´ì—ˆë‹¤.ğŸ˜†âœ¨

[ì •ë¦¬ ë° ì½”ë“œì €ì¥ì†Œ ë” ìì„¸íˆ ë³´ê¸°](https://github.com/code-squad/swift-vendingmachineapp/tree/popsmile#3-%EC%95%B1-%EC%83%9D%EB%AA%85%EC%A3%BC%EA%B8%B0%EC%99%80-%EA%B0%9D%EC%B2%B4-%EC%A0%80%EC%9E%A5)